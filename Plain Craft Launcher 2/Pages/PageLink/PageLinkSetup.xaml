<local:MyPageRight
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:PCL" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    mc:Ignorable="d" x:Class="PageLinkSetup"
    PanScroll="{Binding ElementName=PanBack}">
    <local:MyScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" x:Name="PanBack">
        <StackPanel x:Name="PanMain" Margin="25,10">
            <local:MyCard Margin="0,10,0,0" Title="选择服务商" x:Name="CardLogged">
                <StackPanel Margin="25,40,25,20" Orientation="Vertical">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="Name" />
                            <ColumnDefinition Width="1*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30" />
                            <RowDefinition Height="10" />
                            <RowDefinition Height="30" />
                        </Grid.RowDefinitions>
                        <TextBlock x:Name="TextUsername" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Left" 
                                   Text="已登录 StellarFrp" />
                        <local:MyButton x:Name="BtnLogout" Grid.Row="0" Grid.Column="1" VerticalAlignment="Stretch" HorizontalAlignment="Right" 
                                        Width="100" ColorType="Highlight" Text="退出登录"/>
                        <local:MyButton x:Name="BtnManage" Grid.Row="2" Grid.Column="1" VerticalAlignment="Stretch" HorizontalAlignment="Right" 
                            Width="100" ColorType="Normal" Text="控制台" EventType="打开网页" EventData="https://console.stellarfrp.top/"/>
                        <TextBlock x:Name="TextStatus" Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Left" 
                            Text="已授权使用 StellarFrp 隧道" />
                    </Grid>
                </StackPanel>
            </local:MyCard>
            <local:MyCard Margin="0,10,0,0" Title="选择服务商" x:Name="CardNotLogged">
                <StackPanel Margin="25,40,25,20" Orientation="Vertical">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="Name" />
                            <ColumnDefinition Width="1*" />
                            <ColumnDefinition Width="100" />
                            <ColumnDefinition Width="10" />
                            <ColumnDefinition Width="100" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30" />
                        </Grid.RowDefinitions>
                        <TextBlock x:Name="TextLogin" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Left" Text="登录 StellarFrp 以使用中心转发隧道" />
                        <local:MyButton x:Name="BtnLogin" Grid.Row="0" Grid.Column="2" VerticalAlignment="Stretch" HorizontalAlignment="Right" 
                            Width="100" ColorType="Highlight" Text="登录"/>
                        <local:MyButton x:Name="BtnRegister" Grid.Row="0" Grid.Column="4" VerticalAlignment="Stretch" HorizontalAlignment="Right" 
                            Width="100" ColorType="Normal" Text="注册/控制台" EventType="打开网页" EventData="https://console.stellarfrp.top/"/>
                        <local:MyButton x:Name="BtnCancel" Grid.Row="0" Grid.Column="4" VerticalAlignment="Stretch" HorizontalAlignment="Right" Width="100" ColorType="Normal" Text="取消登录" Visibility="Collapsed"/>
                    </Grid>
                    <Grid Margin="0,10,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="TextBlock"/>
                            <ColumnDefinition Width="8" />
                            <ColumnDefinition Width="1*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="28" />
                        </Grid.RowDefinitions>
                        <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="服务商" />
                        <local:MyComboBox x:Name="ComboFrpProvider" Grid.Column="2" />
                    </Grid>
                </StackPanel>
            </local:MyCard>
            <local:MyCard Margin="0,10,0,0" Title="StellarFrp 隧道" x:Name="CardStellarTunnel">
                <StackPanel Margin="25,40,25,15" Orientation="Vertical">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="TextBlock"/>
                            <ColumnDefinition Width="8" />
                            <ColumnDefinition Width="1*" />
                            <ColumnDefinition Width="10" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="28" />
                            <RowDefinition Height="8" />
                            <RowDefinition Height="28" />
                        </Grid.RowDefinitions>
                        <TextBlock Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Left" Text="建议节点" />
                        <local:MyComboBox x:Name="ComboStellarNode" Grid.Row="0" Grid.Column="2" />
                        <local:MyButton x:Name="BtnRefreshNodes" Grid.Row="0" Grid.Column="4" Width="100" ColorType="Normal" Text="刷新" />
                        <TextBlock Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Left" Text="已选节点 ID" />
                        <TextBlock x:Name="TextSelectedNode" Grid.Row="2" Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Left" Text="-" />
                    </Grid>
                </StackPanel>
            </local:MyCard>
            <local:MyCard Margin="0,10,0,0" Title="本地 FRP 配置" x:Name="CardLocalFrp">
                <StackPanel Margin="25,40,25,15" Orientation="Vertical">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="TextBlock"/>
                            <ColumnDefinition Width="8" />
                            <ColumnDefinition Width="1*" />
                            <ColumnDefinition Width="10" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="28" />
                            <RowDefinition Height="8" />
                            <RowDefinition Height="28" />
                        </Grid.RowDefinitions>
                        <TextBlock Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Left" Text="当前配置" />
                        <TextBlock x:Name="TextLocalFrpProfile" Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Left" Text="未设置" />
                        <local:MyButton x:Name="BtnAddLocalFrp" Grid.Row="0" Grid.Column="4" Width="100" ColorType="Normal" Text="添加配置" />
                        <TextBlock Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Left" Text="服务器地址/端口/范围" />
                        <TextBlock x:Name="TextLocalFrpDetail" Grid.Row="2" Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Left" Text="-" />
                        <local:MyCheckBox x:Name="CheckUseToml" Grid.Row="2" Grid.Column="4" Height="28" Text="使用 TOML 启动" />
                    </Grid>

                    <Border x:Name="PanelAddLocalFrp" Visibility="Collapsed" Margin="0,10,0,0" BorderThickness="1" Padding="12" CornerRadius="4">
                        <StackPanel Orientation="Vertical" >
                            <Grid Margin="0,0,0,6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" SharedSizeGroup="TextBlock"/>
                                    <ColumnDefinition Width="8" />
                                    <ColumnDefinition Width="1*" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="28" />
                                    <RowDefinition Height="8" />
                                    <RowDefinition Height="28" />
                                    <RowDefinition Height="8" />
                                    <RowDefinition Height="28" />
                                </Grid.RowDefinitions>
                                <TextBlock Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Left" Text="配置名称" />
                                <local:MyTextBox x:Name="InputLocalFrpName" Grid.Row="0" Grid.Column="2" />
                                <TextBlock Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Left" Text="服务器地址" />
                                <local:MyTextBox x:Name="InputLocalFrpAddr" Grid.Row="2" Grid.Column="2" />
                                <TextBlock Grid.Row="4" VerticalAlignment="Center" HorizontalAlignment="Left" Text="服务器端口" />
                                <local:MyTextBox x:Name="InputLocalFrpPort" Grid.Row="4" Grid.Column="2" />
                            </Grid>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" SharedSizeGroup="TextBlock"/>
                                    <ColumnDefinition Width="8" />
                                    <ColumnDefinition Width="1*" />
                                    <ColumnDefinition Width="10" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="28" />
                                </Grid.RowDefinitions>
                                <TextBlock Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Left" Text="远程端口范围" />
                                <local:MyTextBox x:Name="InputLocalFrpRange" Grid.Row="0" Grid.Column="2" ToolTip="格式示例：40000-50000" />
                                <local:MyButton x:Name="BtnSaveLocalFrp" Grid.Row="0" Grid.Column="4" Width="100" ColorType="Highlight" Text="保存" />
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </local:MyCard>
            <local:MyCard Margin="0,10,0,0" Title="停止使用">
                <StackPanel Margin="25,40,25,15" Orientation="Vertical">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="10"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <TextBlock Text="若要撤回协议授权并停止使用 PCL CE 联机大厅，请点击下面的按钮。将清除 StellarFrp 授权令牌并停用联机功能。" Grid.Row="0" VerticalAlignment="Stretch" HorizontalAlignment="Left" TextWrapping="Wrap"/>
                        <local:MyButton x:Name="BtnQuit" Text="撤回授权并停止使用" Grid.Row="2" Width="180" Height="30" VerticalAlignment="Center" HorizontalAlignment="Left" ColorType="Red"/>
                    </Grid>
                </StackPanel>
            </local:MyCard>
        </StackPanel>
    </local:MyScrollViewer>
</local:MyPageRight>
